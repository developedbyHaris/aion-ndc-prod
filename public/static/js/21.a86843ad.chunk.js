(this["webpackJsonpaion-ndc-batam"]=this["webpackJsonpaion-ndc-batam"]||[]).push([[21],{791:function(e,a,t){"use strict";t.r(a);var n=t(155),r=t(156),l=t(161),s=t(158),o=t(157),c=t(2),i=t.n(c),m=t(531),u=t(533),d=t(587),p=t(543),h=t(544),E=t(513),g=t(545),f=t(522),b=t(815),w=t(805),y=t(806),v=t(808),N=t(511),k=t.n(N),S=t(512),O=t.n(S),j=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={role:[],modal:!1,status:"User berhasil ditambahkan"},r.toggle=r.toggle.bind(Object(l.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.get("role/list").then((function(e){return e.json()})).then((function(a){e.setState({role:a.data})}))}},{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modalIsOpen}}))}},{key:"doregist",value:function(e){var a=this;O()(".page-loader-wrapper").show(),e.preventDefault();var t={name:O()("#username").val(),email:O()("#email").val(),password:O()("#password").val(),role_id:O()("#role").val(),is_active:1},n=JSON.stringify(t);k.a.postNoAuth("auth/register",n).then((function(e){return e.json()})).then((function(e){!0===e.success?(a.setState({status:"User "+e.data.name+" berhasil ditambahkan"}),a.setState({modal:!0})):(k.a.notifMessage("Anda Salah","danger"),O()(".page-loader-wrapper").hide(),console.log("Something Else went wrong"))})).catch((function(e){k.a.notifMessage("Koneksi Anda Salah","danger"),O()(".page-loader-wrapper").hide(),console.log("Something Catch error went wrong")}))}},{key:"render",value:function(){var e=this.state.role.filter((function(e){return 1!==e.id}));return i.a.createElement(m.a,null,i.a.createElement(u.a,{className:"p-4"},i.a.createElement(d.a,{onSubmit:this.doregist.bind(this)},i.a.createElement("h3",{className:"mb-3"},"Add User"),i.a.createElement(p.a,{className:"mb-3"},i.a.createElement(h.a,{addonType:"prepend"},i.a.createElement(E.a,null,i.a.createElement("i",{className:"icon-user"}))),i.a.createElement(g.a,{id:"username",type:"text",placeholder:"Username",autoComplete:"username",required:!0})),i.a.createElement(p.a,{className:"mb-3"},i.a.createElement(h.a,{addonType:"prepend"},i.a.createElement(E.a,null,"@")),i.a.createElement(g.a,{id:"email",type:"text",placeholder:"Email",autoComplete:"email",required:!0})),i.a.createElement(p.a,{className:"mb-3"},i.a.createElement(h.a,{addonType:"prepend"},i.a.createElement(E.a,null,i.a.createElement("i",{className:"icon-lock"}))),i.a.createElement(g.a,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",required:!0})),i.a.createElement(p.a,{className:"mb-3"},i.a.createElement(h.a,{addonType:"prepend"},i.a.createElement(E.a,null,i.a.createElement("i",{className:"fa fa-anchor"}))),i.a.createElement(g.a,{id:"role",type:"select",autoComplete:"email",required:!0},i.a.createElement("option",null,"Role"),e.map((function(e){return i.a.createElement("option",{key:e.id,value:e.uuid},e.name)})))),i.a.createElement(f.a,{className:"btn-square float-right",type:"submit",color:"primary"},i.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"),i.a.createElement(f.a,{className:"btn-square float-right",type:"reset",color:"danger"},i.a.createElement("i",{className:"fa fa-ban"})," Reset")),i.a.createElement(b.a,{isOpen:this.state.modal,toggle:this.toggle,className:"modal-primary "+this.props.className},i.a.createElement(w.a,null,"New User Status"),i.a.createElement(y.a,null,i.a.createElement("strong",null,this.state.status)),i.a.createElement(v.a,null,i.a.createElement(f.a,{color:"primary",onClick:function(){return window.location.reload(!1)}},"Done")," "))))}}]),t}(c.Component);a.default=j}}]);