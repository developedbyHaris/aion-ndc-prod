(this["webpackJsonpaion-ndc-batam"]=this["webpackJsonpaion-ndc-batam"]||[]).push([[22],{812:function(e,a,t){"use strict";t.r(a);var n=t(155),l=t(156),r=t(161),o=t(158),s=t(157),c=t(2),i=t.n(c),m=t(517),d=t(518),u=t(531),h=t(532),p=t(533),g=t(576),E=t(619),f=t(522),b=t(813),N=t(587),v=t(807),w=t(543),k=t(544),y=t(513),R=t(545),S=t(815),D=t(805),j=t(806),M=t(808),O=t(511),A=t.n(O),x=t(512),C=t.n(x),q=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var l;return Object(n.a)(this,t),(l=a.call(this,e)).state={roleData:[],modal:!1,uuidRem:""},l.addlist=l.addlist.bind(Object(r.a)(l)),l.rolerDelete=l.rolerDelete.bind(Object(r.a)(l)),l}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.addlist()}},{key:"addlist",value:function(){var e=this;A.a.get("role/list").then((function(e){return e.json()})).then((function(a){e.setState({roleData:a.data})})).catch((function(e){A.a.notifMessage("Anda sedang offline","danger"),C()(".page-loader-wrapper").hide(),console.log("Something Catch error went wrong")}))}},{key:"addRole",value:function(e){var a=this;C()(".page-loader-wrapper").show(),e.preventDefault();var t={name:C()("#rolename").val()},n=document.getElementsByName("formRole")[0],l=JSON.stringify(t);A.a.postNoAuth("role/store",l).then((function(e){return e.json()})).then((function(e){!0===e.success?(A.a.notifMessage("Role "+e.data.name+" berhasil ditambahkan"),a.addlist(),n.reset()):(A.a.notifMessage("Anda Salah","danger"),C()(".page-loader-wrapper").hide(),console.log("Something Else went wrong"))})).catch((function(e){A.a.notifMessage("Koneksi Anda Salah","danger"),C()(".page-loader-wrapper").hide(),console.log("Something Catch error went wrong",e)}))}},{key:"rolerDelete",value:function(e){C()(".page-loader-wrapper").show();var a={uuid:this.state.uuidRem},t=JSON.stringify(a);A.a.remove("role/remove",t).then((function(e){return e.json()})).then((function(e){!0===e.success?C()(".page-loader-wrapper").hide():(A.a.notifMessage("Anda Selalu Salah","danger"),C()(".page-loader-wrapper").hide(),console.log("Something Else went wrong"))})).catch((function(e){A.a.notifMessage("Koneksi Anda bermasalah","danger"),C()(".page-loader-wrapper").hide(),console.log("Something Catch error went wrong",e)}))}},{key:"validModal",value:function(e){this.setState({uuidRem:e}),A.a.swalNotif(this.rolerDelete,this.addlist)}},{key:"render",value:function(){var e=this,a=this.state.roleData.filter((function(e){return 1!==e.id}));return i.a.createElement("div",{className:"animated fadeIn"},i.a.createElement(m.a,{className:"flex-row"},i.a.createElement(d.a,{xl:"6"},i.a.createElement(u.a,null,i.a.createElement(h.a,{className:"bg-gray-900 text-light"},i.a.createElement("i",{className:"fa fa-align-justify"})," Role List"),i.a.createElement(p.a,null,i.a.createElement(g.a,{responsive:!0,hover:!0,size:"sm",className:"tutop"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"col"},"#"),i.a.createElement("th",{scope:"col"},"Role Name"),i.a.createElement("th",{scope:"col"},"Action"))),i.a.createElement("tbody",null,a.map((function(a,t){return i.a.createElement("tr",{key:a.uuid},i.a.createElement("td",{className:"text-dark"},t+1),i.a.createElement("td",null,a.name),i.a.createElement("td",null,i.a.createElement(E.a,{size:"sm"},i.a.createElement(f.a,{id:"Edit",className:"text-light bg-primary"},i.a.createElement("i",{className:"fa fa-pencil"})),i.a.createElement(b.a,{placement:"bottom",target:"Edit"},"Edit Role"),i.a.createElement(f.a,{id:"Remove",onClick:e.validModal.bind(e,a.uuid),className:"text-light bg-danger"},i.a.createElement("i",{className:"fa fa-close"})),i.a.createElement(b.a,{placement:"bottom",target:"Remove"},"Remove Role"))))}))))))),i.a.createElement(d.a,{xl:4},i.a.createElement(u.a,null,i.a.createElement(h.a,null,"Add Role"),i.a.createElement(p.a,{className:"p-4"},i.a.createElement(N.a,{id:"formRole",name:"formRole",onSubmit:this.addRole.bind(this)},i.a.createElement(m.a,{form:!0},i.a.createElement(d.a,null,i.a.createElement(v.a,null,i.a.createElement(w.a,{className:"mb-3"},i.a.createElement(k.a,{addonType:"prepend"},i.a.createElement(y.a,null,i.a.createElement("i",{className:"icon-shield"}))),i.a.createElement(R.a,{id:"rolename",type:"text",placeholder:"Role Name",required:!0}))))),i.a.createElement(E.a,{className:"float-right"},i.a.createElement(f.a,{className:"btn-square",type:"submit",color:"primary"},i.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"),i.a.createElement(f.a,{className:"btn-square",type:"reset",color:"danger"},i.a.createElement("i",{className:"fa fa-ban"})," Reset"))),i.a.createElement(S.a,{isOpen:this.state.modal,className:"modal-sm modal-warning "+this.props.className},i.a.createElement(D.a,null,"Warning"),i.a.createElement(j.a,null,"Anda yakin? Data akan terhapus permanen dan tidak bisa dipulihkan kembali."),i.a.createElement(M.a,null,i.a.createElement(E.a,{className:"float-right"},i.a.createElement(f.a,{className:"btn-square",color:"primary",onClick:this.rolerDelete.bind(this)},"Oke")," ",i.a.createElement(f.a,{className:"btn-square",color:"danger",onClick:this.validModal.bind(this)},"Cancel")," "))))))))}}]),t}(c.Component);a.default=q}}]);