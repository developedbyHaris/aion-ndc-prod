(this["webpackJsonpaion-ndc-batam"]=this["webpackJsonpaion-ndc-batam"]||[]).push([[27],{718:function(e,a,t){"use strict";t.r(a);var n=t(156),l=t(157),c=t(160),r=t(159),s=t(158),i=t(2),o=t.n(i),m=t(503),d=t(514),u=t(515),h=t(523),E=t(705),p=t(702),b=t(703),g=t(704),f=t(622),N=t(623),v=t(561),y=t(566),_=t(577),S=t(562),D=t(563),k=t(539),w=t(540),T=t(511),C=t(541),O=t(564),x=t(607),A=t(509),L=t.n(A),j=t(510),I=t.n(j),R=t(154),V=t.n(R),M=Object(i.lazy)((function(){return t.e(1).then(t.bind(null,697))})),J=function(){return o.a.createElement("div",{className:"loader"},o.a.createElement(m.a,{style:{width:"1.5rem",height:"1.5rem"},color:"primary"}))},z=function(e){Object(r.a)(t,e);var a=Object(s.a)(t);function t(e){var l;return Object(n.a)(this,t),(l=a.call(this,e)).hideLoader=function(){l.setState({loader:!1})},l.showLoader=function(){l.setState({loader:!0})},l.state={inData:[],cusData:[],venData:[],othData:[],cusEdit:[],type:"",modal_add:!1,modal_edit:!1,noData:!0,noDataInter:!0,noDataVen:!0,noDataOth:!0,collapse:!0,inShow:!1,inLable:"",activeTab:"1",loader:!1},l.toggle_tab=l.toggle_tab.bind(Object(c.a)(l)),l.toggle_ext=l.toggle_ext.bind(Object(c.a)(l)),l.toggle_add=l.toggle_add.bind(Object(c.a)(l)),l.toggle_edit=l.toggle_edit.bind(Object(c.a)(l)),l.toggle=l.toggle.bind(Object(c.a)(l)),l}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.showlist()}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"toggle_tab",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"showlist",value:function(){var e=this,a=this;this.showLoader(),L.a.get("customer-origin/list").then((function(e){return e.json()})).then((function(t){var n=t.data.filter((function(e){return"INTERNAL"===e.type})),l=t.data.filter((function(e){return"CUSTOMER"===e.type})),c=t.data.filter((function(e){return"VENDOR"===e.type})),r=t.data.filter((function(e){return"OTHER"===e.type}));e.setState({inData:n,cusData:l,venData:c,othData:r}),0===l.length?e.setState({noData:!e.state.noData}):e.setState({noData:!0}),0===n.length?e.setState({noDataInter:!e.state.noDataInter}):e.setState({noDataInter:!0}),0===c.length?e.setState({noDataVen:!e.state.noDataVen}):e.setState({noDataVen:!0}),0===r.length?e.setState({noDataOth:!e.state.noDataOth}):e.setState({noDataOth:!0}),a.hideLoader()})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),a.hideLoader(),console.log(e)}))}},{key:"toggle_add",value:function(e){"INTERNAL"===e?this.setState({inShow:!0,inLable:e,modal_add:!this.state.modal_add}):this.setState({inShow:!1,inLable:e,modal_add:!this.state.modal_add})}},{key:"toggle_ext",value:function(){this.setState({modal_add:!this.state.modal_add})}},{key:"toggle_edit",value:function(){var e=this;this.setState((function(){return{modal_edit:!e.state.modal_edit}}))}},{key:"cusUpdate",value:function(e){var a=this,t=this;this.showLoader(),e.preventDefault();var n={uuid:I()("#uuid").val(),name:I()("#name").val(),pic_name:I()("#pic_name").val(),type:I()("#type").val(),jabatan:I()("#jabatan").val(),no_hp:I()("#no_hp").val(),is_active:1},l=JSON.stringify(n);L.a.put("customer-origin/update",l).then((function(e){return e.json()})).then((function(e){!0===e.success?(a.setState({modal_edit:!1}),L.a.notifMessage("Data berhasil diubah","success"),a.showlist(),t.hideLoader()):(L.a.notifMessage("Anda Selalu Salah","danger"),t.hideLoader(),console.log("Something Else went wrong"))})).catch((function(e){L.a.notifMessage("Koneksi Anda bermasalah","danger"),t.hideLoader(),console.log("Something Catch error went wrong",e)}))}},{key:"cusFind",value:function(e){var a=this,t={uuid:e},n=JSON.stringify(t);L.a.post("customer-origin/find",n).then((function(e){return e.json()})).then((function(e){"INTERNAL"===e.data.type?a.setState({inShow:!0,cusEdit:e.data,inLable:e.data.type}):a.setState({cusEdit:e.data,inLable:e.data.type,inShow:!1}),a.toggle_edit()})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),console.log("Something Catch error went wrong")}))}},{key:"cusAdd",value:function(e){var a=this,t=this;this.showLoader(),e.preventDefault();var n={name:I()("#name").val(),pic_name:I()("#pic_name").val(),type:I()("#type").val(),jabatan:I()("#jabatan").val(),no_hp:I()("#no_hp").val(),is_active:1},l=JSON.stringify(n);L.a.post("customer-origin/store",l).then((function(e){return e.json()})).then((function(e){!0===e.success?(a.setState({modal_add:!1,inShow:!1}),L.a.notifMessage("Customer "+e.data.name+" berhasil ditambah","success"),t.hideLoader(),a.showlist()):(L.a.notifMessage("Anda Selalu Salah","danger"),t.hideLoader(),console.log("Something Else went wrong"))})).catch((function(e){L.a.notifMessage("Koneksi Anda bermasalah","danger"),t.hideLoader(),console.log("Something Catch error went wrong",e)}))}},{key:"render",value:function(){var e=this,a=this.state.cusData,t=this.state.inData,n=this.state.venData,l=this.state.othData,c=function(e){var a=e.color;return o.a.createElement("hr",{style:{color:a,backgroundColor:a,height:1}})};return o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(d.a,{className:"flex-row"},o.a.createElement(u.a,{md:"12"},o.a.createElement(h.a,{className:"btn-yahoo btn-brand mr-3 mb-3",onClick:function(){return e.toggle_add("CUSTOMER")}},o.a.createElement("i",{className:"fa fa-plus"}),o.a.createElement("span",null,"Add Customer")),o.a.createElement(h.a,{className:"btn-xing btn-brand mr-3 mb-3",onClick:function(){return e.toggle_add("VENDOR")}},o.a.createElement("i",{className:"fa fa-plus"}),o.a.createElement("span",null,"Add Vendor")),o.a.createElement(h.a,{className:"btn-dropbox btn-brand mr-3 mb-3",onClick:function(){return e.toggle_add("INTERNAL")}},o.a.createElement("i",{className:"fa fa-plus"}),o.a.createElement("span",null,"Add Division")),o.a.createElement(h.a,{className:"btn-vk btn-brand mr-3 mb-3",onClick:function(){return e.toggle_add("OTHER")}},o.a.createElement("i",{className:"fa fa-plus"}),o.a.createElement("span",null,"Add Other")))),o.a.createElement(c,{color:"teal"}),o.a.createElement(E.a,{tabs:!0,fill:!0},o.a.createElement(p.a,null,o.a.createElement(b.a,{className:V()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle_tab("1")}},o.a.createElement("strong",null,o.a.createElement("i",{className:"fa fa-circle-o mr-2"}),"Customer "),o.a.createElement(g.a,{className:"btn-yahoo btn-brand",pill:!0},a.length," Data"))),o.a.createElement(p.a,null,o.a.createElement(b.a,{className:V()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle_tab("2")}},o.a.createElement("strong",null,o.a.createElement("i",{className:"fa fa-circle-o mr-2"}),"Vendor "),o.a.createElement(g.a,{className:"btn-xing btn-brand",pill:!0},n.length," Data"))),o.a.createElement(p.a,null,o.a.createElement(b.a,{className:V()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle_tab("3")}},o.a.createElement("strong",null,o.a.createElement("i",{className:"fa fa-circle-o mr-2"}),"Division "),o.a.createElement(g.a,{className:"btn-dropbox btn-brand",pill:!0},t.length," Data"))),o.a.createElement(p.a,null,o.a.createElement(b.a,{className:V()({active:"4"===this.state.activeTab}),onClick:function(){e.toggle_tab("4")}},o.a.createElement("strong",null,o.a.createElement("i",{className:"fa fa-circle-o mr-2"}),"Other "),o.a.createElement(g.a,{className:"btn-vk btn-brand",pill:!0},l.length," Data")))),o.a.createElement(f.a,{activeTab:this.state.activeTab,className:"mb-2"},o.a.createElement(N.a,{tabId:"1"},o.a.createElement(v.a,{striped:!0,responsive:!0,hover:!0,className:"tutop",size:"sm"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"btn-yahoo btn-brand"},o.a.createElement("th",{scope:"col"},"No."),o.a.createElement("th",{scope:"col"},"Nama Customer"),o.a.createElement("th",{scope:"col"},"Nama Pic"),o.a.createElement("th",{scope:"col"},"No. Hp"),o.a.createElement("th",{scope:"col"},"Jabatan"),o.a.createElement("th",{scope:"col"},"Status"))),o.a.createElement("tbody",null,o.a.createElement("tr",{hidden:!this.state.loader},o.a.createElement("td",{colSpan:"12",className:"bg-light text-center"},this.state.loader?o.a.createElement(J,null):null)),a.map((function(a,t){var n=a.is_active;n=!0===n?"Active":"Dismantle";var l;return o.a.createElement("tr",{key:a.uuid},o.a.createElement("td",{align:"right"},t+1),o.a.createElement("td",{width:"25%"},o.a.createElement(h.a,{size:"sm",color:"link",className:"p-0 m-0 text-left",onClick:function(){return e.cusFind(a.uuid)}},a.name)),o.a.createElement("td",null,a.pic_name),o.a.createElement("td",null,a.no_hp),o.a.createElement("td",null,a.jabatan),o.a.createElement("td",null,o.a.createElement("h6",null,o.a.createElement(g.a,{pill:!0,color:(l=n,"Active"===l?"success":"danger")},o.a.createElement("i",{className:"fa fa-circle mr-1"})," ",n))))})),o.a.createElement("tr",{hidden:this.state.noData},o.a.createElement("td",{colSpan:"12",align:"center",className:"bg-gray-200 text-muted"},"No Data Available ..."))))),o.a.createElement(N.a,{tabId:"2"},o.a.createElement(v.a,{striped:!0,responsive:!0,hover:!0,size:"sm",className:"tutop "},o.a.createElement("thead",null,o.a.createElement("tr",{className:"btn-xing btn-brand"},o.a.createElement("th",{scope:"col",width:"2%"},"No."),o.a.createElement("th",{scope:"col"},"Nama Vendor"),o.a.createElement("th",{scope:"col"},"Nama Pic"),o.a.createElement("th",{scope:"col"},"No. Hp"),o.a.createElement("th",{scope:"col"},"Jabatan"),o.a.createElement("th",{scope:"col"},"Status"))),o.a.createElement("tbody",null,o.a.createElement("tr",{hidden:!this.state.loader},o.a.createElement("td",{colSpan:"12",className:"bg-light text-center"},this.state.loader?o.a.createElement(J,null):null)),n.map((function(a,t){var n=a.is_active;n=!0===n?"Active":"Dismantle";var l;return o.a.createElement("tr",{key:a.uuid},o.a.createElement("td",{align:"right"},t+1),o.a.createElement("td",null,o.a.createElement(h.a,{size:"sm",color:"link",className:"p-0 m-0 text-left",onClick:function(){return e.cusFind(a.uuid)}},a.name)),o.a.createElement("td",null,a.pic_name),o.a.createElement("td",null,a.no_hp),o.a.createElement("td",null,a.jabatan),o.a.createElement("td",null,o.a.createElement("h6",null,o.a.createElement(g.a,{pill:!0,color:(l=n,"Active"===l?"success":"danger")},o.a.createElement("i",{className:"fa fa-circle mr-1"})," ",n))))})),o.a.createElement("tr",{hidden:this.state.noDataVen},o.a.createElement("td",{colSpan:"12",align:"center",className:"bg-gray-200 text-muted"},"No Data Available ..."))))),o.a.createElement(N.a,{tabId:"3"},o.a.createElement(v.a,{striped:!0,responsive:!0,hover:!0,size:"sm",className:"tutop"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"btn-dropbox btn-brand"},o.a.createElement("th",{scope:"col",width:"2%"},"No."),o.a.createElement("th",{scope:"col"},"Nama Divisi"),o.a.createElement("th",{scope:"col"},"Status"))),o.a.createElement("tbody",null,o.a.createElement("tr",{hidden:!this.state.loader},o.a.createElement("td",{colSpan:"12",className:"bg-light text-center"},this.state.loader?o.a.createElement(J,null):null)),t.map((function(a,t){var n=a.is_active;n=!0===n?"Active":"Dismantle";var l;return o.a.createElement("tr",{key:a.uuid},o.a.createElement("td",{align:"right"},t+1),o.a.createElement("td",null,o.a.createElement(h.a,{size:"sm",color:"link",className:"p-0 m-0 text-left",onClick:function(){return e.cusFind(a.uuid)}},a.name)),o.a.createElement("td",null,o.a.createElement("h6",null,o.a.createElement(g.a,{pill:!0,color:(l=n,"Active"===l?"success":"danger")},o.a.createElement("i",{className:"fa fa-circle mr-1"})," ",n))))})),o.a.createElement("tr",{hidden:this.state.noDataInter},o.a.createElement("td",{colSpan:"12",align:"center",className:"bg-gray-200 text-muted"},"No Data Available ..."))))),o.a.createElement(N.a,{tabId:"4"},o.a.createElement(v.a,{striped:!0,responsive:!0,hover:!0,size:"sm",className:"tutop "},o.a.createElement("thead",null,o.a.createElement("tr",{className:"btn-vk btn-brand"},o.a.createElement("th",{scope:"col",width:"2%"},"No."),o.a.createElement("th",{scope:"col"},"Nama Instansi/Perusahaan"),o.a.createElement("th",{scope:"col"},"Nama Pic"),o.a.createElement("th",{scope:"col"},"No. Hp"),o.a.createElement("th",{scope:"col"},"Jabatan"),o.a.createElement("th",{scope:"col"},"Status"))),o.a.createElement("tbody",null,o.a.createElement("tr",{hidden:!this.state.loader},o.a.createElement("td",{colSpan:"12",className:"bg-light text-center"},this.state.loader?o.a.createElement(J,null):null)),l.map((function(a,t){var n=a.is_active;n=!0===n?"Active":"Dismantle";var l;return o.a.createElement("tr",{key:a.uuid},o.a.createElement("td",{align:"right"},t+1),o.a.createElement("td",null,o.a.createElement(h.a,{size:"sm",color:"link",className:"p-0 m-0 text-left",onClick:function(){return e.cusFind(a.uuid)}},a.name)),o.a.createElement("td",null,a.pic_name),o.a.createElement("td",null,a.no_hp),o.a.createElement("td",null,a.jabatan),o.a.createElement("td",null,o.a.createElement("h6",null,o.a.createElement(g.a,{pill:!0,color:(l=n,"Active"===l?"success":"danger")},o.a.createElement("i",{className:"fa fa-circle mr-1"})," ",n))))})),o.a.createElement("tr",{hidden:this.state.noDataOth},o.a.createElement("td",{colSpan:"12",align:"center",className:"bg-gray-200 text-muted"},"No Data Available ...")))))),o.a.createElement(M,null),o.a.createElement(y.a,{isOpen:this.state.modal_edit,toggle:this.toggle_edit,className:"modal-primary "+this.props.className},o.a.createElement(_.a,{onSubmit:this.cusUpdate.bind(this)},o.a.createElement(S.a,{toggle:this.toggle_edit},"EDIT ",this.state.inLable," DATA"),o.a.createElement(D.a,null,o.a.createElement(k.a,{className:"mb-3",hidden:!0},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"fa fa-anchor"}))),o.a.createElement(C.a,{id:"uuid",type:"text",defaultValue:this.state.cusEdit.uuid,required:!0})),o.a.createElement(k.a,{className:"mb-3"},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"fa fa-flag"}))),o.a.createElement(C.a,{id:"type",type:"select",defaultValue:this.state.cusEdit.type,required:!0},o.a.createElement("option",{value:"INTERNAL"},"INTERNAL"),o.a.createElement("option",{value:"CUSTOMER"},"CUSTOMER"),o.a.createElement("option",{value:"VENDOR"},"VENDOR"),o.a.createElement("option",{value:"OTHER"},"OTHER"))),o.a.createElement(k.a,{className:"mb-3"},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"fa fa-building-o"}))),o.a.createElement(C.a,{id:"name",type:"text",defaultValue:this.state.cusEdit.name,required:!0})),o.a.createElement(k.a,{className:"mb-3",hidden:this.state.inShow},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"icon-user"}))),o.a.createElement(C.a,{id:"pic_name",type:"text",autoComplete:"off",defaultValue:this.state.cusEdit.pic_name,placeholder:this.state.cusEdit.pic_name||"Ubah Nama PIC ..."})),o.a.createElement(k.a,{className:"mb-3",hidden:this.state.inShow},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"icon-phone"}))),o.a.createElement(C.a,{id:"no_hp",type:"text",autoComplete:"off",defaultValue:this.state.cusEdit.no_hp,placeholder:this.state.cusEdit.no_hp||"Ubah No. Hp ..."})),o.a.createElement(k.a,{className:"mb-3",hidden:this.state.inShow},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"icon-shield"}))),o.a.createElement(C.a,{id:"jabatan",type:"text",autoComplete:"off",defaultValue:this.state.cusEdit.jabatan,placeholder:this.state.cusEdit.jabatan||"Ubah Jabatan ..."}))),o.a.createElement(O.a,null,o.a.createElement(x.a,null,o.a.createElement(h.a,{className:"btn-square float-right",type:"submit",color:"primary"},o.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"))))),o.a.createElement(y.a,{isOpen:this.state.modal_add,className:"modal-primary "+this.props.className,backdrop:"static"},o.a.createElement(_.a,{onSubmit:this.cusAdd.bind(this)},o.a.createElement(S.a,{toggle:this.toggle_ext},"ADD NEW ",this.state.inLable),o.a.createElement(D.a,null,o.a.createElement(k.a,{className:"mb-3"},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"fa fa-flag"}))),o.a.createElement(C.a,{id:"type",type:"text",defaultValue:this.state.inLable,disabled:!0})),o.a.createElement(k.a,{className:"mb-3"},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"fa fa-building-o"}))),o.a.createElement(C.a,{id:"name",type:"text",autoComplete:"off",placeholder:"Nama Instansi/Perusahaan/Divisi",required:!0})),o.a.createElement(k.a,{className:"mb-3",hidden:this.state.inShow},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"icon-user"}))),o.a.createElement(C.a,{id:"pic_name",type:"text",autoComplete:"off",placeholder:"Nama PIC"})),o.a.createElement(k.a,{className:"mb-3",hidden:this.state.inShow},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"icon-phone"}))),o.a.createElement(C.a,{id:"no_hp",type:"text",autoComplete:"off",placeholder:"No. Hp"})),o.a.createElement(k.a,{className:"mb-3",hidden:this.state.inShow},o.a.createElement(w.a,{addonType:"prepend"},o.a.createElement(T.a,null,o.a.createElement("i",{className:"icon-shield"}))),o.a.createElement(C.a,{id:"jabatan",type:"text",autoComplete:"off",placeholder:"Jabatan"}))),o.a.createElement(O.a,null,o.a.createElement(x.a,null,o.a.createElement(h.a,{className:"btn-square float-right",type:"submit",color:"primary"},o.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"),o.a.createElement(h.a,{className:"btn-square float-right",type:"reset",color:"danger"},o.a.createElement("i",{className:"fa fa-ban"})," Reset"))))))}}]),t}(i.Component);a.default=z}}]);