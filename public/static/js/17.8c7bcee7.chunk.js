(this["webpackJsonpaion-ndc-batam"]=this["webpackJsonpaion-ndc-batam"]||[]).push([[17],{535:function(e,t,a){"use strict";var n=a(155),r=a(156),l=a(158),s=a(157),o=a(2),i=a.n(o),c=a(522),m=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={intervalId:0},e}return Object(r.a)(a,[{key:"scrollStep",value:function(){0===window.pageYOffset&&clearInterval(this.state.intervalId),window.scroll(0,window.pageYOffset-50)}},{key:"scrollToTop",value:function(){var e=setInterval(this.scrollStep.bind(this),16.66);this.setState({intervalId:e})}},{key:"render",value:function(){var e=this;return i.a.createElement(c.a,{title:"Back to top",className:"scroll",onClick:function(){e.scrollToTop()}},i.a.createElement("i",{className:"fa fa-chevron-up arrow-up"}))}}]),a}(o.Component);t.a=m},563:function(e,t,a){"use strict";var n=a(105),r=a(155),l=a(156),s=a(158),o=a(157),i=a(2),c=a.n(i),m=a(562),u=a(531),d=a(533),g=a(154),h=a.n(g),f=a(564),E=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.cssModule,r=e.header,l=e.mainText,s=e.icon,o=e.color,i=e.footer,g=e.link,E=(e.children,e.variant),p=Object(n.a)(e,["className","cssModule","header","mainText","icon","color","footer","link","children","variant"]),v="0"===E?{card:"p-3",icon:"p-3",lead:"mt-2"}:"1"===E?{card:"p-0",icon:"p-4",lead:"pt-2"}:{card:"p-0",icon:"p-4 px-5",lead:"pt-3"},b={style:"clearfix",color:o,icon:s,classes:""};b.classes=Object(f.mapToCssModules)(h()(t,b.style,v.card),a);var S={style:"h5 mb-0",color:o,classes:""};S.classes=h()(S.style,"text-"+b.color,v.lead);return c.a.createElement(u.a,null,c.a.createElement(d.a,Object.assign({className:b.classes},p),function(e){var t=h()(e,"bg-"+b.color,v.icon,"font-2xl mr-3 float-left");return c.a.createElement("i",{className:t})}(b.icon),c.a.createElement("div",{className:S.classes},r),c.a.createElement("div",{className:"text-muted text-uppercase font-weight-bold font-xs"},l)),function(){if(i)return c.a.createElement(m.a,{className:"px-3 py-2"},c.a.createElement("a",{className:"font-weight-bold font-xs btn-block text-muted",href:g},"View More",c.a.createElement("i",{className:"fa fa-angle-right float-right font-lg"})))}())}}]),a}(i.Component);E.defaultProps={header:"$1,999.50",mainText:"Income",icon:"fa fa-cogs",color:"primary",variant:"0",link:"#"},t.a=E},692:function(e,t,a){},814:function(e,t,a){"use strict";a.r(t);var n=a(792),r=a(155),l=a(156),s=a(161),o=a(158),i=a(157),c=a(2),m=a.n(c),u=a(505),d=a(517),g=a(518),h=a(522),f=a(531),E=a(532),p=a(813),v=a(804),b=a(533),S=a(587),D=a(807),N=a(790),y=a(619),w=a(545),O=a(543),x=a(544),k=a(576),C=a(511),L=a.n(C),T=a(512),j=a.n(T),M=a(590),I=(a(692),a(513)),R=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.props.suggestions,a=e.currentTarget.value;n.props.validinData(!0);var r=t.filter((function(e){return e.toString().toLowerCase().indexOf(a.toString().toLowerCase())>-1}));n.setState({activeSuggestion:0,filteredSuggestions:r,showSuggestions:!0,userInput:e.currentTarget.value})},n.onClick=function(e){n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText}),n.props.validinData(!1)},n.onKeyDown=function(e){var t=n.state,a=t.activeSuggestion,r=t.filteredSuggestions;if(n.props.validinData(!1),13===e.keyCode)n.setState({activeSuggestion:0,showSuggestions:!1,userInput:r[a]});else if(38===e.keyCode){if(0===a)return;n.setState({activeSuggestion:a-1})}else if(40===e.keyCode){if(a-1===r.length)return;n.setState({activeSuggestion:a+1})}},n.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,n=this.onKeyDown,r=this.state,l=r.activeSuggestion,s=r.filteredSuggestions,o=r.showSuggestions,i=r.userInput;return o&&i&&(e=s.length?m.a.createElement("ul",{className:"suggestions"},s.map((function(e,t){var n;return t===l&&(n="suggestion-active"),m.a.createElement("li",{className:n,key:e,onClick:a},e)}))):m.a.createElement("div",{className:"no-suggestions text-danger"},m.a.createElement("em",null,"Customer/Divisi/Vendor belum teridentifikasi!"))),m.a.createElement(c.Fragment,null,m.a.createElement(O.a,{className:"mt-2"},m.a.createElement(w.a,{id:"customer_origin",name:"customer_origin",placeholder:"Requested by...",type:"text",onChange:t,onKeyDown:n,value:i,autoComplete:"off"}),m.a.createElement(x.a,{addonType:"prepend"},m.a.createElement(I.a,null,m.a.createElement("i",{className:"fa fa-binoculars"})))),e)}}]),a}(c.Component);R.defaultProps={suggestions:[]};var P=R,F=a(693),A=a(608),_=a.n(A),U=a(535),q=a(563),V=a(793),J=a(796),B=a(644),Y=a(645),z=a(815),H=a(805),K=a(806),W=a(808),G=a(83),$=a.n(G),Q=a(160),X=a.n(Q),Z=a(767),ee=a.n(Z);var te=function(e){var t=Object(c.useRef)(!0),a=e,n=e.daily,r=e.showPeriode,l=e.validModal,s=Object(c.useState)({editData:[]}),o=Object(V.a)(s,2),i=o[0],u=o[1],f=Object(c.useState)(""),E=Object(V.a)(f,2),b=E[0],O=E[1],x=Object(c.useState)(null),k=Object(V.a)(x,2),C=k[0],T=k[1],I=new X.a({encodingType:"aes"}),R=Object(c.useState)(""),P=Object(V.a)(R,2),F=P[0],A=P[1],U=Object(c.useState)(""),q=Object(V.a)(U,2),G=q[0],Q=q[1],Z=Object(c.useState)(""),te=Object(V.a)(Z,2),ae=te[0],ne=te[1],re=Object(c.useState)(""),le=Object(V.a)(re,2),se=le[0],oe=le[1],ie=Object(c.useState)(!1),ce=Object(V.a)(ie,2),me=ce[0],ue=ce[1],de=Object(c.useState)(!1),ge=Object(V.a)(de,2),he=ge[0],fe=ge[1],Ee=function(){return fe(!he)},pe=n.date,ve=n.updatedAt,be=$()(ve).format("LLLL"),Se=$()(pe),De=Se.format("dddd"),Ne=Se.format("LL"),ye=Se.format("LT"),we=n.created_by,Oe=n.updated_by;null===Oe&&(Oe={name:"-"});var xe={toolbar:[["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}]],clipboard:{matchVisual:!1}},ke=["bold","italic","underline","link","list","bullet","indent"];Object(c.useEffect)((function(){return function(){t.current=!1}}),[]);var Ce,Le=function(e){return"CLOSE"===e?"success":"OPEN"===e?"warning":"URGENT"===e?"danger":"primary"};return[m.a.createElement("tr",{id:"rowRow",key:n.uuid.toString(),className:"table-"+Le(n.status)},m.a.createElement("td",{hidden:!0},n.uuid),m.a.createElement("td",null,De),m.a.createElement("td",null,Ne),m.a.createElement("td",null,ye),m.a.createElement("td",null,m.a.createElement("h6",null,m.a.createElement(J.a,{pill:!0,color:Le(n.status)},m.a.createElement("i",{className:"fa fa-circle mr-1"}),n.status))),m.a.createElement("td",null,n.customer_origin),m.a.createElement("td",null,m.a.createElement(ee.a,{charLimit:70,readMoreText:"Read more \u25bc",readLessText:"Read less \u25b2",readMoreClassName:"read-more-less--more",readLessClassName:"read-more-less--less"},n.note)),m.a.createElement("td",null,we.name),m.a.createElement("td",null,Oe.name),m.a.createElement("td",{key:n.id},m.a.createElement(y.a,{size:"sm"},m.a.createElement(h.a,{id:"Detail"+n.id,hidden:(Ce=n.updated_by,null===Ce),onClick:function(){return ue(!me)},className:"text-light bg-success"},m.a.createElement("i",{className:"fa fa-eye"})),m.a.createElement(p.a,{placement:"bottom",target:"Detail"+n.id},"Show Detail"),m.a.createElement(h.a,{id:"Edit"+n.id,onClick:function(e){return function(e,a){e.preventDefault();var n={uuid:a},r=JSON.stringify(n);L.a.post("log/find",r).then((function(e){return e.json()})).then((function(e){u(e.data),O(e.data.date),T(e.data.status),A(e.data.note),Q(e.data.troubleshoot_progress),ne(e.data.result),oe(e.data.update_progress)})).then((function(){t.current&&Ee()})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),console.log("Something Catch error went wrong",e)}))}(e,n.uuid)},className:"text-light bg-primary"},m.a.createElement("i",{className:"fa fa-pencil"})),m.a.createElement(p.a,{placement:"bottom",target:"Edit"+n.id},"Edit Log"),m.a.createElement(h.a,{id:"Remove"+n.id,onClick:function(){return l(n.uuid)},className:"text-light bg-danger"},m.a.createElement("i",{className:"fa fa-close"})),m.a.createElement(p.a,{placement:"bottom",target:"Remove"+n.id},"Remove Log")))),m.a.createElement("tr",{key:n.id,hidden:!me,className:"bg-gray-200"},m.a.createElement("td",{colSpan:"12",className:"p-0 m-0"},m.a.createElement(v.a,{isOpen:me},m.a.createElement(B.a,{className:"list-group-accent text-muted",tag:"div"},m.a.createElement(Y.a,{className:"list-group-item-accent-"+Le(n.status)},m.a.createElement(d.a,null,m.a.createElement(g.a,{md:"2"},m.a.createElement(N.a,null,m.a.createElement("strong",null,"Troubleshoot Progress"))),m.a.createElement(g.a,{xs:"12",md:"10"},m.a.createElement(ee.a,{readMoreText:"Read more \u25bc",readLessText:"Read less \u25b2",readMoreClassName:"read-more-less--more",readLessClassName:"read-more-less--less"},n.troubleshoot_progress)))),m.a.createElement(Y.a,{className:"list-group-item-accent-"+Le(n.status)},m.a.createElement(d.a,null,m.a.createElement(g.a,{md:"2"},m.a.createElement(N.a,null,m.a.createElement("strong",null,"Result"))),m.a.createElement(g.a,{xs:"12",md:"10"},m.a.createElement(ee.a,{readMoreText:"Read more \u25bc",readLessText:"Read less \u25b2",readMoreClassName:"read-more-less--more",readLessClassName:"read-more-less--less"},n.result)))),m.a.createElement(Y.a,{className:"list-group-item-accent-"+Le(n.status)},m.a.createElement(d.a,null,m.a.createElement(g.a,{md:"2"},m.a.createElement(N.a,null,m.a.createElement("strong",null,"Notes"))),m.a.createElement(g.a,{xs:"12",md:"10"},m.a.createElement(ee.a,{readMoreText:"Read more \u25bc",readLessText:"Read less \u25b2",readMoreClassName:"read-more-less--more",readLessClassName:"read-more-less--less"},n.update_progress)))),m.a.createElement(Y.a,{className:"list-group-item-accent-"+Le(n.status)},m.a.createElement(d.a,null,m.a.createElement(g.a,{md:"2"},m.a.createElement(N.a,null,m.a.createElement("strong",null,"Last Updated By"))),m.a.createElement(g.a,{xs:"12",md:"4"},Oe.name))),m.a.createElement(Y.a,{className:"list-group-item-accent-"+Le(n.status)},m.a.createElement(d.a,null,m.a.createElement(g.a,{md:"2"},m.a.createElement(N.a,null,m.a.createElement("strong",null,"Last Updated On"))),m.a.createElement(g.a,{xs:"12",md:"4"},be)))),m.a.createElement(z.a,{key:i.uuid,isOpen:he,size:"xl",toggle:Ee,className:a+" modal-"+Le(n.status),backdrop:"static"},m.a.createElement(S.a,{id:"editLog",name:"editLog",onSubmit:function(e){e.preventDefault();var a=$()().format("LLLL"),n=F;0===j()(F).text().length&&(n=i.note);var l=G;l=0===j()(G).text().length?"":j()(i.troubleshoot_progress).text().length<j()(G).text().length?G+"<p><em>- "+I.get("key").name+" on "+a+"</em></p>":G;var s=ae;s=0===j()(ae).text().length?"":j()(i.result).text().length<j()(ae).text().length?ae+"<p><em>- "+I.get("key").name+" on "+a+"</em></p>":ae;var o=se;o=0===j()(se).text().length?"":j()(i.update_progress).text().length<j()(se).text().length?se+"<p><em>- "+I.get("key").name+" on "+a+"</em></p>":se;var c={uuid:i.uuid,date:b,shift:[{name:""},{name:""}],customer_origin:j()("#mCustomer_origin").val(),note:n,troubleshoot_progress:l,result:s,status:C,update_progress:o},m=JSON.stringify(c);L.a.put("log/update",m).then((function(e){return e.json()})).then((function(e){!0===e.success?(A(""),Q(""),ne(""),oe(""),r(),L.a.notifMessage("Log berhasil diubah","success")):(L.a.notifMessage("Anda Selalu Salah","danger"),console.log("Something Else went wrong"))})).catch((function(e){L.a.notifMessage(" Anda sedang offline, data tidak tersimpan","danger"),console.log("Something Catch error went wrong",e)})),t.current&&Ee()}},m.a.createElement(H.a,{toggle:Ee},"Edit Log"),m.a.createElement(K.a,null,m.a.createElement(d.a,{className:"mr-2 ml-2"},m.a.createElement(g.a,{xs:"12",md:"6"},m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"date-input"},m.a.createElement("strong",null,"Date/Time"))),m.a.createElement(g.a,{xs:"12",md:"7"},m.a.createElement(M.DateTimePicker,{id:"mDate",format:"LLL",max:new Date,value:new Date(b),onChange:function(e){return O(e)}}))),m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"date-input"},m.a.createElement("strong",null,"Status"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(y.a,{id:"mStatus",required:!0,size:"sm"},m.a.createElement(h.a,{size:"sm",color:"ghost-warning",onClick:function(){return T("OPEN")},active:"OPEN"===C},"\u26ab\xa0Open"),m.a.createElement(h.a,{size:"sm",color:"ghost-success",onClick:function(){return T("CLOSE")},active:"CLOSE"===C},"\u26ab\xa0Close")),m.a.createElement(y.a,{id:"mStatus",required:!0,size:"sm"},m.a.createElement(h.a,{size:"sm",color:"ghost-primary",onClick:function(){return T("IMPORTANT")},active:"IMPORTANT"===C},"\u26ab\xa0Important"),m.a.createElement(h.a,{size:"sm",color:"ghost-danger",onClick:function(){return T("URGENT")},active:"URGENT"===C},"\u26ab\xa0Urgent")))),m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"textarea-input"},m.a.createElement("strong",null,"Requester"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(w.a,{id:"mCustomer_origin",name:"mCustomer_origin",type:"textarea",style:{resize:"none"},defaultValue:i.customer_origin,readOnly:!0}))))),m.a.createElement("hr",{style:{color:"teal",backgroundColor:"teal",height:1}}),m.a.createElement(d.a,{className:"mr-2 ml-2"},m.a.createElement(g.a,{xs:"12",md:"6"},m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"textarea-input"},m.a.createElement("strong",null,"Issue"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(_.a,{theme:"snow",placeholder:"Write something...",defaultValue:i.note,onChange:function(e){return A(e)},modules:xe,formats:ke}))),m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"textarea-input"},m.a.createElement("strong",null,"Progress"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(_.a,{theme:"snow",placeholder:"Write something...",defaultValue:n.troubleshoot_progress,onChange:function(e){return Q(e)},modules:xe,formats:ke})))),m.a.createElement(g.a,{xs:"12",md:"6"},m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"textarea-input"},m.a.createElement("strong",null,"Result"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(_.a,{theme:"snow",placeholder:"Write something...",defaultValue:n.result,onChange:function(e){return ne(e)},modules:xe,formats:ke}))),m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"textarea-input"},m.a.createElement("strong",null,"Note"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(_.a,{theme:"snow",placeholder:"Write something...",defaultValue:n.update_progress,onChange:function(e){return oe(e)},modules:xe,formats:ke})))))),m.a.createElement(W.a,{className:"bg-gray-200"},m.a.createElement(y.a,null,m.a.createElement(h.a,{className:"btn-square float-right",type:"submit",color:"primary"},m.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"),m.a.createElement(h.a,{onClick:Ee,className:"btn-square float-right",color:"danger"},m.a.createElement("i",{className:"fa fa-close"})," Cancel"))))))))]},ae=a(411),ne=a.n(ae),re=a(412),le=a.n(re);$.a.updateLocale("id",ne.a),le()();var se=function(){return m.a.createElement("div",{className:"loader"},m.a.createElement(u.a,{style:{width:"1.5rem",height:"1.5rem"},color:"primary"}))},oe=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(r.a)(this,a),(l=t.call(this,e)).hideLoader=function(){l.setState({loader:!1})},l.showLoader=function(){l.setState({loader:!0,logData:[],logIsData:[],noData:!0})},l.showData=function(){l.setState({noData:!1})},l.hideData=function(){l.setState({noData:!0})},l.fetchMoreData=function(){var e=l.state,t=e.currentPage,a=e.todosPerPage,r=e.logData,s=e.logIsData;if(s.length>=r.length)l.setState({hasMore:!1});else{var o=t+1,i=o*a,c=i-a,m=r.slice(c,i);setTimeout((function(){l.setState({logIsData:[].concat(Object(n.a)(s),Object(n.a)(m)),currentPage:o})}),1e3)}},l.getData=function(e){var t=l.state.active,a=e.target.value;e.preventDefault(),l.setState({openInput:!1,validinData:!0,Selection:e.target.value,active:!t}),L.a.get("customer-origin/list").then((function(e){return e.json()})).then((function(e){if("INTERNAL"===a){var t=e.data.filter((function(e){return"INTERNAL"===e.type})).map((function(e){return e.name}));l.setState({inData:t,openInput:!l.state.openInput,reqLable:"Division Name ..."})}else if("CUSTOMER"===a){var n=e.data.filter((function(e){return"CUSTOMER"===e.type})).map((function(e){return e.name}));l.setState({inData:n,openInput:!l.state.openInput,reqLable:"Customer Name ..."})}else if("VENDOR"===a){var r=e.data.filter((function(e){return"VENDOR"===e.type})).map((function(e){return e.name}));l.setState({inData:r,openInput:!l.state.openInput,reqLable:"Vendor Name ..."})}else{var s=e.data.filter((function(e){return"OTHER"===e.type})).map((function(e){return e.name}));l.setState({inData:s,openInput:!l.state.openInput,reqLable:"Other Name ..."})}})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),console.log(e)}))},l.modules={toolbar:[["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}]],clipboard:{matchVisual:!1}},l.formats=["bold","italic","underline","link","list","bullet","indent"],l.state={logData:[],logIsData:[],currentPage:1,todosPerPage:10,hasMore:!0,editData:[],reqLable:"",inputDate:new Date,periodeDate:new Date,labelDate:"",openDetail:!1,openInput:!1,openForm:!1,openFilter:!1,reload:!1,inData:[],validinData:!0,dOpen:0,dClose:0,dImportant:0,dUrgent:0,byStatus:"",noData:!0,filter:"",uuidRem:"",loader:!1,Selection:"",active:!1,editorHtml:"",editorText:""},l.togleDetail=l.togleDetail.bind(Object(s.a)(l)),l.togleFilter=l.togleFilter.bind(Object(s.a)(l)),l.showlist=l.showlist.bind(Object(s.a)(l)),l.showPeriode=l.showPeriode.bind(Object(s.a)(l)),l.togleForm=l.togleForm.bind(Object(s.a)(l)),l.filterList=l.filterList.bind(Object(s.a)(l)),l.validModal=l.validModal.bind(Object(s.a)(l)),l.doRemove=l.doRemove.bind(Object(s.a)(l)),l.virtualData=l.virtualData.bind(Object(s.a)(l)),l.validinData=l.validinData.bind(Object(s.a)(l)),l.quillInput=l.quillInput.bind(Object(s.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){null!=this.props.location.state?(this.getByStatus(this.props.location.state),this.sOpen(),this.sClose(),this.sUrgent(),this.sImportant()):this.showPeriode()}},{key:"quillInput",value:function(e){var t=j()(e).text();this.setState({editorHtml:e,editorText:t})}},{key:"validinData",value:function(e){this.setState({validinData:e})}},{key:"validModal",value:function(e){this.setState({uuidRem:e},L.a.swalNotif(this.doRemove,this.showPeriode))}},{key:"togleDetail",value:function(){this.setState({openDetail:!this.state.openDetail})}},{key:"togleForm",value:function(){this.setState({openForm:!this.state.openForm,Selection:"",active:!1,openInput:!1,validinData:!0,editorHtml:"",inputDate:new Date,inData:[]}),document.addLog.reset()}},{key:"togleFilter",value:function(){this.setState({openFilter:!this.state.openFilter})}},{key:"virtualData",value:function(e){this.setState({logData:e});var t=this.state,a=t.todosPerPage,n=t.logData,r=n.slice(0,a);r.length>=n.length?this.setState({hasMore:!1,logIsData:r,currentPage:1}):this.setState({hasMore:!0,logIsData:r,currentPage:1})}},{key:"doRemove",value:function(){var e={uuid:this.state.uuidRem},t=JSON.stringify(e);L.a.remove("log/delete",t).then((function(e){return e.json()})).then((function(e){!0!==e.success&&(L.a.notifMessage(" Anda Salah","danger"),console.log("Something Else went wrong"))})).catch((function(e){L.a.notifMessage(" Koneksi Anda Salah","danger"),console.log("Something Catch error went wrong",e)}))}},{key:"sImportant",value:function(){var e=this,t=JSON.stringify({status:"IMPORTANT"});L.a.post("log/count/by/status",t).then((function(e){return e.json()})).then((function(t){e.setState({dImportant:t.data})}))}},{key:"sUrgent",value:function(){var e=this,t=JSON.stringify({status:"URGENT"});L.a.post("log/count/by/status",t).then((function(e){return e.json()})).then((function(t){e.setState({dUrgent:t.data})}))}},{key:"sClose",value:function(){var e=this,t=JSON.stringify({status:"CLOSE"});L.a.post("log/count/by/status",t).then((function(e){return e.json()})).then((function(t){e.setState({dClose:t.data})}))}},{key:"sOpen",value:function(){var e=this,t=JSON.stringify({status:"OPEN"});L.a.post("log/count/by/status",t).then((function(e){return e.json()})).then((function(t){e.setState({dOpen:t.data})})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),console.log(e)}))}},{key:"getByStatus",value:function(e){var t=this,a=this;this.showLoader();var n={status:e},r=JSON.stringify(n);L.a.post("log/list/by/status",r).then((function(e){return e.json()})).then((function(n){if(!0===n.success)if(0===n.data.length)t.setState({logData:[],noData:!1}),a.hideLoader();else{var r=n.data.sort((function(e,t){return t.date>e.date?1:-1}));t.setState({noData:!0}),t.virtualData(r),a.hideLoader()}else L.a.notifMessage("Anda Salah","danger"),a.hideLoader(),console.log("Something Else went wrong");t.setState({labelDate:"All The Time | Filter By Status : "+e})})).catch((function(e){L.a.notifMessage("Koneksi Anda Salah","danger"),a.hideLoader(),console.log("Something Catch error went wrong",e)}))}},{key:"addLog",value:function(e){var t=this;e.preventDefault();var a={date:this.state.inputDate,shift:[{name:"-"},{name:"-"}],customer_origin:j()("#customer_origin").val(),note:this.state.editorHtml,troubleshoot_progress:"",result:"",status:"OPEN",update_progress:""},n=JSON.stringify(a);L.a.post("log/store",n).then((function(e){return e.json()})).then((function(e){!0===e.success?(L.a.notifMessage("Log Baru berhasil ditambahkan","success"),t.showPeriode()):(L.a.notifMessage("Anda Salah","danger"),console.log("Something Else went wrong"))})).then((function(){t.togleForm()})).catch((function(e){L.a.notifMessage("Koneksi Anda Salah","danger"),t.hideLoader(),console.log("Something Catch error went wrong",e)}))}},{key:"showlist",value:function(e){var t=this,a=this;this.showLoader(),e.preventDefault(),j()("#cari").val(""),L.a.get("log/list").then((function(e){return e.json()})).then((function(e){if(0===e.data.length)t.setState({logData:[],noData:!1,openFilter:!1,labelDate:"All The Time"}),a.hideLoader();else{var n=e.data.sort((function(e,t){return t.date>e.date?1:-1}));t.setState({noData:!0,openFilter:!1,labelDate:"All The Time"}),t.virtualData(n),a.hideLoader()}})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),a.hideLoader(),console.log(e)}))}},{key:"onChange",value:function(e){this.setState({periodeDate:e},(function(){this.showPeriode()}))}},{key:"showPeriode",value:function(){var e=this,t=this;this.showLoader(),j()("#cari").val("");var a=this.state.periodeDate,n=$()(a).format("MMMM YYYY"),r={month:a.getMonth()+1,year:a.getFullYear()},l=JSON.stringify(r);L.a.post("log/list/by/month/and/year",l).then((function(e){return e.json()})).then((function(a){if(0===a.data.length)e.setState({logData:[],noData:!1,openFilter:!1,labelDate:n}),t.hideLoader();else{var r=a.data.sort((function(e,t){return t.date>e.date?1:-1}));e.setState({noData:!0,openFilter:!1,labelDate:n}),t.virtualData(r),t.hideLoader()}})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),t.hideLoader(),console.log(e)})),this.sOpen(),this.sClose(),this.sUrgent(),this.sImportant()}},{key:"filterList",value:function(e){var t=this,a=this;this.showLoader(),e.preventDefault();var n=j()("#cari").val(),r=n.toLowerCase();L.a.get("log/list").then((function(e){return e.json()})).then((function(e){return e.data.sort((function(e,t){return t.date>e.date?1:-1})).filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&e[t].toLowerCase().includes(r)}))}))})).then((function(e){0===e.length?(t.setState({logData:[],noData:!1,labelDate:"All The Time | Serching for "+n.toUpperCase()}),a.hideLoader()):(t.setState({noData:!0,labelDate:"All The Time | Serching for : "+n.toUpperCase()}),t.virtualData(e),a.hideLoader())})).catch((function(e){L.a.notifMessage("Anda sedang offline","danger"),a.hideLoader(),console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.logIsData,n=t.logData,r=t.Selection,l=a,s=function(){return m.a.createElement("div",{className:"text-center p-2"},m.a.createElement(u.a,{style:{width:"1.5rem",height:"1.5rem"},color:"primary"}),m.a.createElement("hr",null),m.a.createElement("span",null,"Load ",m.a.createElement("strong",{className:"text-primary"},a.length,"/",n.length)," Data"))};return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(d.a,null,m.a.createElement(g.a,{xs:"12",sm:"6",md:"3"},m.a.createElement(h.a,{block:!0,color:"link",className:"text-left m-0 p-0"},m.a.createElement(q.a,{onClick:this.getByStatus.bind(this,"IMPORTANT"),header:this.state.dImportant.toString(),mainText:"Important",icon:"fa fa-star",color:"primary",variant:"1"}))),m.a.createElement(g.a,{xs:"12",sm:"6",md:"3"},m.a.createElement(h.a,{block:!0,color:"link",className:"text-left m-0 p-0"},m.a.createElement(q.a,{onClick:this.getByStatus.bind(this,"CLOSE"),header:this.state.dClose.toString(),mainText:"Complete",icon:"fa fa-coffee",color:"success",variant:"1"}))),m.a.createElement(g.a,{xs:"12",sm:"6",md:"3"},m.a.createElement(h.a,{block:!0,color:"link",className:"text-left m-0 p-0"},m.a.createElement(q.a,{onClick:this.getByStatus.bind(this,"OPEN"),header:this.state.dOpen.toString(),mainText:"Open",icon:"fa fa-cogs",color:"warning",variant:"1"}))),m.a.createElement(g.a,{xs:"12",sm:"6",md:"3"},m.a.createElement(h.a,{block:!0,color:"link",className:"text-left m-0 p-0"},m.a.createElement(q.a,{onClick:this.getByStatus.bind(this,"URGENT"),header:this.state.dUrgent.toString(),mainText:"Urgent",icon:"fa fa-heartbeat",color:"danger",variant:"1"})))),m.a.createElement(f.a,{className:"m-0 mb-2"},m.a.createElement(E.a,{className:"btn-stack-overflow btn-brand",id:"newLog",onClick:this.togleForm},m.a.createElement("i",{className:"fa fa-cogs bg-transparent"}),m.a.createElement("span",{className:"m-0 font-weight-bold"},"Log Baru"),m.a.createElement("i",{id:"add",className:"fa fa-plus float-right mr-0 bg-transparent"}),m.a.createElement(p.a,{placement:"bottom",target:"add"},"Tambah Data")),m.a.createElement(v.a,{isOpen:this.state.openForm},m.a.createElement(b.a,{className:"text-muted"},m.a.createElement(d.a,null,m.a.createElement(g.a,{sm:"6"},m.a.createElement(S.a,{id:"addLog",className:"container",name:"addLog",onSubmit:this.addLog.bind(this),onReset:this.togleForm},m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"date-input"},m.a.createElement("strong",null,"Date/Time"))),m.a.createElement(g.a,{xs:"12",md:"7"},m.a.createElement(M.DateTimePicker,{id:"date",format:"LLL",max:new Date,value:this.state.inputDate,onChange:function(t){return e.setState({inputDate:t})}}))),m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"textarea-input"},m.a.createElement("strong",null,"Requester"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(y.a,{"data-toggle":"buttons"},m.a.createElement(h.a,{outline:!0,className:"INTERNAL"===r?"active":null,id:"INTERNAL",value:"INTERNAL",color:"primary",onClick:this.getData},"Internal"),m.a.createElement(h.a,{outline:!0,className:"CUSTOMER"===r?"active":null,id:"CUSTOMER",value:"CUSTOMER",color:"primary",onClick:this.getData},"Customer"),m.a.createElement(h.a,{outline:!0,className:"VENDOR"===r?"active":null,id:"VENDOR",value:"VENDOR",color:"primary",onClick:this.getData},"Vendor"),m.a.createElement(h.a,{outline:!0,className:"OTHER"===r?"active":null,id:"OTHER",value:"OTHER",color:"primary",onClick:this.getData},"Other")),m.a.createElement(v.a,{isOpen:this.state.openInput},m.a.createElement(P,{key:this.state.inData,suggestions:this.state.inData,validinData:this.validinData})))),m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{md:"3"},m.a.createElement(N.a,{htmlFor:"textarea-input"},m.a.createElement("strong",null,"Issue"))),m.a.createElement(g.a,{xs:"12",md:"9"},m.a.createElement(_.a,{id:"note",name:"issue-input",theme:"snow",placeholder:"Write something...",onChange:this.quillInput,value:this.state.editorHtml,modules:this.modules,formats:this.formats,readOnly:this.state.validinData}),m.a.createElement(w.a,{required:!0,type:"text",defaultValue:this.state.editorText,style:{height:"0px",opacity:0}}))),m.a.createElement(D.a,{row:!0},m.a.createElement(g.a,{align:"right"},m.a.createElement(h.a,{disabled:this.state.validinData,hidden:this.state.validinData,className:"btn-square animated fadeIn",type:"submit",color:"primary"},m.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"),m.a.createElement(h.a,{className:"btn-square",type:"reset",color:"danger"},m.a.createElement("i",{className:"fa fa-ban"})," Cancel"))))))))),m.a.createElement(f.a,{className:"m-0"},m.a.createElement(E.a,{className:"btn-css3 btn-brand",id:"headingTwo",onClick:this.togleFilter},m.a.createElement("i",{className:"fa fa-desktop bg-transparent"}),m.a.createElement("span",{className:"m-0 font-weight-bold"},"Daily Work Report | Periode ",this.state.labelDate),m.a.createElement("i",{id:"filter",className:"fa fa-filter float-right bg-transparent mr-0"}),m.a.createElement(p.a,{placement:"bottom",target:"filter"},"Filter Data")),m.a.createElement(v.a,{isOpen:this.state.openFilter},m.a.createElement(b.a,null,m.a.createElement(d.a,null,m.a.createElement(g.a,{xs:"12",md:"1"},m.a.createElement(N.a,{htmlFor:"date-input",className:"text-muted"},m.a.createElement("strong",null,"Periode"))),m.a.createElement(g.a,{xs:"12",md:"3",className:"mb-1"},m.a.createElement(M.DateTimePicker,{id:"dateFilter",placeholder:"Select periode...",onChange:this.onChange.bind(this),max:new Date,format:"MMMM YYYY",views:["year"],time:!1,footer:!1})),m.a.createElement(g.a,{xs:"12",md:"4",className:"mb-1"},m.a.createElement(h.a,{outline:!0,color:"primary",className:"",onClick:this.showlist},m.a.createElement("i",{className:"fa fa-calendar-check-o mr-2"}),"All The Time")),m.a.createElement(g.a,{xs:"12",md:"4",className:"mb-1"},m.a.createElement(S.a,{id:"caridata",name:"caridata",onSubmit:this.filterList},m.a.createElement(O.a,null,m.a.createElement(w.a,{type:"text",id:"cari",name:"cari",defaultValue:"",placeholder:"Pencarian...",required:!0}),m.a.createElement(x.a,{addonType:"prepend"},m.a.createElement(h.a,{type:"submit",color:"primary"},m.a.createElement("i",{className:"fa fa-search"})))))))))),m.a.createElement(F.a,{dataLength:this.state.logIsData.length,next:this.fetchMoreData,className:"mb-3 bg-light",hasMore:this.state.hasMore,loader:this.state.logIsData.length?m.a.createElement(s,null):null,endMessage:m.a.createElement("p",{align:"center"},"Load ",m.a.createElement("strong",{className:"text-primary"},this.state.logIsData.length,"/",this.state.logData.length)," Data.")},m.a.createElement(k.a,{hover:!0,bordered:!0,responsive:!0,className:"numeral"},m.a.createElement("thead",{className:"btn-xing",align:"center"},m.a.createElement("tr",null,m.a.createElement("th",{scope:"row",hidden:!0},"uuid"),m.a.createElement("th",{scope:"row"},"Day"),m.a.createElement("th",{scope:"row",width:"130px"},"Date"),m.a.createElement("th",{scope:"row"},"Time"),m.a.createElement("th",{scope:"row"},"Status"),m.a.createElement("th",{scope:"row"},"Requester"),m.a.createElement("th",{scope:"row"},"Issue"),m.a.createElement("th",{scope:"row",width:"10%"},"Opened by"),m.a.createElement("th",{scope:"row",width:"10%"},"Last Update by"),m.a.createElement("th",{scope:"row"},"Action"))),m.a.createElement("tbody",null,m.a.createElement("tr",{hidden:!this.state.loader},m.a.createElement("td",{colSpan:"12",className:"bg-light text-center"},this.state.loader?m.a.createElement(se,null):null)),l.map((function(t,a){return m.a.createElement(te,{key:a,daily:t,showPeriode:e.showPeriode,validModal:e.validModal})})),m.a.createElement("tr",{hidden:this.state.noData},m.a.createElement("td",{colSpan:"12",className:"bg-light text-muted"},"No Data Available ..."))))),m.a.createElement(U.a,null))}}]),a}(c.Component);t.default=oe}}]);